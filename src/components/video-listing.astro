---
// Default Listing template for Apps, Games, and formulas

import {
    ListingDetails
} from '~/helpers/listing-page.js'

// import Devices from '~/src/components/listing-parts/devices.astro'
import RelatedVideos from '~/src/components/listing-parts/related-videos.astro'

import AllUpdatesSubscribe from '~/components/all-updates-subscribe.vue'

// import { makeLastUpdatedFriendly } from '~/helpers/parse-date'
// import { getAppEndpoint } from '~/helpers/app-derived.js'

// import LinkButton from '~/components/link-button.vue'
// import VideoRow from '~/components/video/row.vue'


const {
  listing
} = Astro.props

const details = new ListingDetails( listing )
---
<section class="container pb-16">
    <div class="flex flex-col items-center text-center space-y-6">

        { "playerHtml" }

        <div class="md:flex w-full justify-between space-y-4 md:space-y-0 md:px-10">

            { details.shouldHaveSubscribeButton &&
                <div
                    class="channel-credit"
                >
                    <a
                        href="https://www.youtube.com/channel/{ video.channel.id }?sub_confirmation=1"
                        target="_blank"
                        rel="noopener"
                        role="button"
                        class="relative inline-flex items-center rounded-md px-4 py-2 leading-5 font-bold text-white border border-transparent focus:outline-none focus:border-indigo-600 neumorphic-shadow focus:shadow-outline-indigo bg-darker hover:bg-indigo-400 active:bg-indigo-600 transition duration-150 ease-in-out"
                    >Subscribe to { details.initialVideo.channel.name }</a>
                </div>
             }
        </div>

        <hr class="w-full">

        { "featuredAppsHtml" }

        <RelatedVideos
            listing={ listing }
        />

    </div>
</section>
